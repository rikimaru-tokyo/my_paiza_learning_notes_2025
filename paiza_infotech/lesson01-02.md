<!-- omit in toc -->
# 情報処理入門 テクノロジー編 Lesson01 ～ Lesson05

<!-- omit in toc -->
# [目次]

- [テクノロジー編01: コンピュータのデータ表現](#テクノロジー編01-コンピュータのデータ表現)
  - [01: コンピュータのデータ表現について学んでいこう](#01-コンピュータのデータ表現について学んでいこう)
    - [表現単位](#表現単位)
    - [基数](#基数)
    - [コンピュータで扱う数値の表現](#コンピュータで扱う数値の表現)
    - [コンピュータの表現できる範囲には限りがある](#コンピュータの表現できる範囲には限りがある)
    - [シフト演算](#シフト演算)
  - [02: 基本的なデータの単位と接頭辞](#02-基本的なデータの単位と接頭辞)
    - [情報の表現例](#情報の表現例)
    - [接頭辞　(キロ、メガなど)](#接頭辞キロメガなど)
    - [大きな値を表すときに使われる接頭辞](#大きな値を表すときに使われる接頭辞)
    - [小さな値を表すときに使われる接頭辞](#小さな値を表すときに使われる接頭辞)
    - [正確に区別する場合](#正確に区別する場合)
    - [接頭語の単位の正確な扱い](#接頭語の単位の正確な扱い)
  - [03: 基数](#03-基数)
    - [10進数 (0～9の数字を使い切ったら桁数を増やす)](#10進数-09の数字を使い切ったら桁数を増やす)
    - [2進数](#2進数)
    - [8進数(0～7の数字を使い切ったら桁数を増やす)](#8進数07の数字を使い切ったら桁数を増やす)
    - [2進数から8進数(2の3乗)へ](#2進数から8進数2の3乗へ)
    - [16進数](#16進数)
    - [2進数から16進数(2の4乗)へ](#2進数から16進数2の4乗へ)
  - [04: 基数変換](#04-基数変換)
    - [2進数から10進数へ基数変換](#2進数から10進数へ基数変換)
      - [(11010110.1011)2 = (214.6875)10](#1101011010112--214687510)
      - [10進数から2進数へ基数変換](#10進数から2進数へ基数変換)
      - [10進数から8進数へ基数変換](#10進数から8進数へ基数変換)
      - [有限桁数で表現できない小数](#有限桁数で表現できない小数)
  - [05: 数値表現 - その1](#05-数値表現---その1)
    - [コンピュータにおける数値の表現方法](#コンピュータにおける数値の表現方法)
    - [2進化10進コード(BCDコード)](#2進化10進コードbcdコード)
    - [ゾーン10進数](#ゾーン10進数)
    - [パック10進数](#パック10進数)
    - [ゾーン10進数とパック10進数の関係](#ゾーン10進数とパック10進数の関係)
  - [06: 数値表現 - その2](#06-数値表現---その2)
    - [コンピュータ上で小数を表現する方法](#コンピュータ上で小数を表現する方法)
  - [07: 数値表現 - その3](#07-数値表現---その3)
  - [08: 誤差](#08-誤差)
  - [09: シフト演算](#09-シフト演算)


# テクノロジー編01: コンピュータのデータ表現

## 01: コンピュータのデータ表現について学んでいこう

### 表現単位 

| 大きな数値 | 小さな数値 |
| --------- | ---------- |
| K:キロ    |  m:ミリ     |
| M:メガ    |  μ:マイクロ |
| G:ギガ    |  n:ナノ     |
| T:テラ    |  p:ピコ     |
| P:ペタ    |  ・・・     |



### 基数

- 扱える数字の種類
  - 10進数:0から9の10種類の数字を使用
  - 2進数:0と1の2種類の数字を使用
  - 10進数→2進数の値に変換することを`基数変換`とよぶ


### コンピュータで扱う数値の表現

| 整数表記  | 小数表記 | 
| --------- | ---------- |
|2進化10進コード<br>(BCDコード) |固定小数点数 |
|ゾーン10進数 | 浮動小数点数 |
|パック10進数 | --- |


### コンピュータの表現できる範囲には限りがある

- 実際の数値と記憶される数値に差異が生じる
  - 丸め誤差
  - 情報落ち
  - 桁落ち
  - オーバーフロー
  - アンダーフロー


### シフト演算

- コンピュータ内で数値演算を行う方法
- ビットの位置を左右にずらす演算方法
- 算術シフト : 数値演算をする時に使用
- 論理シフト : ビットの位置をずらす時に使用


## 02: 基本的なデータの単位と接頭辞


電気信号は基本的に2種類の状態でしか表現できない

![](./images/01/lesson0101.png)


### 情報の表現例

- nビット → 2のn乗種類
- 1バイト=8ビット → 2の8乗=256種類


### 接頭辞　(キロ、メガなど)


- 1000 g= 1 kg
- k ・・・ 接頭辞 
- k→10の3乗  = 1 kg = 1 X 10<sup>3</sup> g


### 大きな値を表すときに使われる接頭辞

| 記号 |読み方 |10進数 | 2進数|
|------|------|------|------|
| K    | キロ | 10<sup>3</sup> | 2<sup>10</sup> |
| M    | メガ | 10<sup>6</sup> | 2<sup>20</sup> |  
| G    | ギガ | 10<sup>9</sup> | 2<sup>30</sup> | 
| T    | テラ | 10<sup>12</sup> | 2<sup>40</sup> | 
| P    | ペタ | 10<sup>15</sup> | 2<sup>50</sup> |



### 小さな値を表すときに使われる接頭辞

| 記号 |読み方 |10進数 | 2進数|
|------|------|------|------|
|m     | ミリ | 10<sup>-3</sup> | 2<sup>-10</sup> |
|μ     | マイクロ | 10<sup>-6</sup> | 2<sup>-20</sup> |
|n     | ナノ  | 10<sup>-9</sup> | 2<sup>-30</sup> |
|p     | ピコ  | 10<sup>-12</sup>| 2<sup>-40</sup> |


### 正確に区別する場合

| 記号 |読み方 | 2進数|
|------|------|------|
|  Ki  | キビ | 2<sup>10</sup> |
|  Mi  | メビ | 2<sup>20</sup> |
|  Gi  | ギビ | 2<sup>30</sup> |
|  Ti  | テビ | 2<sup>40</sup> |
|  Pi  | ペビ | 2<sup>50</sup> |


### 接頭語の単位の正確な扱い

SI接頭辞と呼ばれるルールではkは10の3乗の1000と決められていますが、<br>
コンピュータの世界では慣用的に、kは2の10乗の1024を示すことが多いです。<br>
このため、両者を区別するために、2進接頭辞と呼ばれるKi、Mi、Gi、Ti、Pi<br>のような接頭辞が決められています。<br>
2進接頭辞は、あまり見かけない表記ですが、2進データであることを明確に<br>表現したいときには、こちらを使いましょう。

|10進単位|数値|2進単位|数値|
|------|------|------|------|
|k| 10の3乗 |KiB |2の10乗 |
|M|10の6乗|MiB|2の20乗|
|G|10の9乗|GiB|2の30乗|
|T|10の12乗|TiB|2の40乗|
|P|10の15乗|PiB|2の50乗|

- 参考: 2進接頭辞
  - https://ja.wikipedia.org/wiki/2%E9%80%B2%E6%8E%A5%E9%A0%AD%E8%BE%9E


## 03: 基数

- 数値を表現するときに、位取りのもととなる値
<br><br>

### 10進数 (0～9の数字を使い切ったら桁数を増やす)
  - 267.8 = 2 x 10<sup>2</sup> + 6 x 10<sup>1</sup> + 7 x 10<sup>0</sup> + 8 x 10<sup>-1</sup>
  - 「10のn乗」より、nのことを`べき乗`と呼ぶ
  - 「nの2乗」より、nのことを`基数`と呼ぶ

<br>

### 2進数
  - (110.1)<sub>2</sub>=1x 2<sup>2</sup>+ 1 x 2<sup>1</sup> + 0 x 2<sup>0</sup> + 1 x 2<sup>-1</sup> =(6.5)<sub>10</sub>

<br>

### 8進数(0～7の数字を使い切ったら桁数を増やす)

(147.5)<sub>8</sub>=1x 8<sup>2</sup>+4x 8<sup>1</sup>+ 7 x 8<sup>0</sup> + 5 x 8<sup>-1</sup>
=(103.5)<sub>10</sub>

<br>

### 2進数から8進数(2の3乗)へ

※1つの数値に2の3乗で表すことができる
<br>

(1001010.1001)<sub>2</sub><br>
↓<br>
(`00`1 001 010.100 1`00`)<sub>2</sub><br>
3桁ごとに区切る(3桁に満たない部分は0をあてる)<br>
↓<br>
(112.44)<sub>8</sub>　　　3桁ごとに変換

<br>

### 16進数

(1B8.E)<sub>16</sub>=1x 16<sup>2</sup>+11x 16<sup>1</sup>+8x 16<sup>0</sup>+14x 16<sup>-1</sup>
=(440.875)<sub>10</sub>

<br>

### 2進数から16進数(2の4乗)へ

※1つの数値に2の4乗で表すことができる
<br>

(1001010.1001)<sub>2</sub><br>
↓<br>
(`0`100 1010.1001)<sub>2</sub><br>
4桁ごとに区切る(4桁に満たない部分は0をあてる)<br>
↓<br>
(4A.9)<sub>16</sub>　　　4桁ごとに変換
<br><br>



## 04: 基数変換

- 基数を扱いやすいように変換する
   - 2進数　→　8進数·16進数
     - 規則性があるので扱いやすい
   - 2進数　→　10進数
     - 規則性がない


### 2進数から10進数へ基数変換

#### (11010110.1011)<sub>2</sub> = (214.6875)<sub>10</sub>

- まず、`整数部`と`小数部`に分ける


|1|1|0|1|0|1|1|0|.|1|0|1|1|
|---|---|---|---|---|---|---|---|---|---|---|---|---|
|2<sup>7</sup>|2<sup>6</sup>|2<sup>5</sup>|2<sup>4</sup>|2<sup>3</sup>|2<sup>2</sup>|2<sup>1</sup>|2<sup>0</sup>|.|2<sup>-1</sup>|2<sup>-2</sup>|2<sup>-3</sup>|2<sup>-4</sup>|
|+128|+64|-|+16|-|+4|+2|-|.|+0.5|-|+0.125|+0.0625|



#### 10進数から2進数へ基数変換


![](./images/01/lesson0102.png)



#### 10進数から8進数へ基数変換

![](./images/01/lesson0103.png)



#### 有限桁数で表現できない小数

- 無限小数・循環小数にはまってしまった場合は計算機側で近似値として求める

![](./images/01/lesson0104.png)


<br><br>

## 05: 数値表現 - その1


### コンピュータにおける数値の表現方法

- 2進数
  - コンピュータ内部で計算を行うときに適している
- 10進数
  - 人間にとって馴染みがあり、わかりやすい



### 2進化10進コード(BCDコード)

- 10進数各桁を1バイトで表現する方法

`01000110100111011011110100100011`

→　コンピュータ:問題ない　人間:確認が大変


- 4桁のビットごとに分ける
- ただし、この形式では正負は考慮していない。
- 政府を考慮する場合は、`ゾーン10進数` 、 `パック10進数`


![](./images/01/lesson0105.png)


### ゾーン10進数

![](./images/01/lesson0106.png)



- 上位ビットにはゾーン部のビットが配置される
- 最下位ビットには符号部のビットが配置される

![](./images/01/lesson0107.png)



### パック10進数

- 10進数2桁を1バイトで表現する方法

![](./images/01/lesson0108.png)


- 下記「-1763」の場合、最後の4ビットを追加したのでバイト数が合わないので、先頭のビットを追加する。

![](./images/01/lesson0109.png)


### ゾーン10進数とパック10進数の関係

![](./images/01/lesson0110.png)

![](./images/01/lesson0111.png)



<br><br>

## 06: 数値表現 - その2

### コンピュータ上で小数を表現する方法

- 整数部と小数部の桁数をあらかじめ決めておく「固定小数点数」
- 表現する値に合わせて小数点の位置を変える「浮動小数点数」

### 固定小数点数

- 小数点を特定の位置に固定して、数値を扱う表現形式
- 最上位ビット:正 = 0 , 負 = 1


![](./images/01/lesson0112.png)

### 補数

- ある数に足した時、桁が1つ上がる最も小さい数


- 98+1=99…桁は上がってない
- 98+2= 100…桁は上がっている
- 98+3= 101…桁は上がっている
  - このことから９８の補数は２となる


### 1の補数と2の補数

(25)<sub>10</sub>  => (00011001)<sub>2</sub> <br>
補数は?　　(100000000)<sub>2</sub> - (00011001)<sub>2</sub> = (11100111)<sub>2</sub> 


![](./images/01/lesson0113.png)


### m進数のとき

- mの補数
  - その数に足した時、桁が1つ上がる最も小さい数
- m-1の補数
-   mの補数からマイナス1した数



### 補数表現が用いられている理由

- 減算を加算に置き換えて演算できる
- 表現できる数値の範囲が広い


```
15-10

15 =(00001111)2
10 = (00001010)2
-10= (11110110)2

(00001111)2+(11110110)2=(00000101)2
```

- 乗算は加算の繰り返し、除算は減算（結果的に加算）の繰り返し


#### PaizaAIで上記の計算結果でなぜ頭4bitが全部ゼロになるのか？を聞いてみた

15-10の補数計算での考え方を順を追って説明します：

1. まず、15は2進数で(00001111)2です
2. 10の2の補数を求めます：
   - 10は2進数で(00001010)2
   - ビット反転して(11110101)2
   - 1を加えて(11110110)2となります

3. 15と10の2の補数を加算します：
   ```
     00001111 (15)
   + 11110110 (10の2の補数)
   ----------
   1 00000101 
   ```

4. **なぜ前半の4bitがゼロになるのか？**
   - 計算過程で桁上がりが発生します
   - 1+1=10(2進数)で、1が桁上がりします
   - 前半部分で発生した桁上がりが次々と伝播し、結果として0になります
   - 具体的には：
     - 8ビット目：1+0=1（桁上がり）
     - 9ビット目：桁上がり1+1+1=11（1を記録し、1を桁上がり）
     - 以降も同様に桁上がりが続き、前半4bitが全て0になります

5. 最終的に9ビット目に桁上がりした「1」は8ビット計算では無視されるため、結果は(00000101)2=5となります



### 付録　補数・浮動小数点数についてわかりやすく

- ２進数の引き算で補数を使う理由【情報I基礎】2-1-5 ２進数の加減算と補数
  - https://youtu.be/CsTBKaDnbgg?si=o_iXZzF_BC3_gSyl


- 浮動小数点数とは何かや正規化のメリットをわかりやすく解説【情報I基礎】2-1-7 実数のデジタル表現
  - https://youtu.be/F9P1ebCDC2U?si=i5Wvgi-FXAZk5ZOf


<br><br>


## 07: 数値表現 - その3

### 固定小数点数と浮動小数点数

- ビット数が決まっている場合
  - 固定小数点数では表現できる数値の範囲が限定される
  - 大きな数値になるとたくさんのビット数が必要


![](./images/01/lesson0114.png)

![](./images/01/lesson0115.png)

![](./images/01/lesson0116.png)

![](./images/01/lesson0117.png)

![](./images/01/lesson0118.png)

#### PaizaAIに聞いてみた

```
浮動小数点数の標準的な表記では「正規化形式」というルールがあります。
正規化形式では、仮数部（小数点の前後の数字部分）は「1.xxx...」の形式になるよう調整します。
```


<br><br>


## 08: 誤差

### 真値とコンピュータ内部で表現できる値との差

(0.1)<sub>10</sub>=(0.00011001100110011…)<sub>2</sub>…循環小数<br>
誤差:(0.00234375)<sub>10</sub><br>
(0.09765625)<sub>10</sub> = (0.00011001)<sub>2</sub><br>


### 誤差の種類

- 丸め誤差
- 打ち切り誤差
- 情報落ち
- 桁落ち
- オーバーフロー
- アンダーフロー


### オーバーフロー

- 計算結果がその値の範囲を超えること
- 32ビット整数
  - 2<sup>32</sup> = 4,294,967,296
- 表現できる数が符号なしのとき、0を下回り誤差が起きることを、`負のオーバーフロー`という。
- 計算される値の範囲を予測し、型定義を行うことが対策となる。


### アンダーフロー

![](./images/01/lesson0119.png)

### 丸め誤差

途中の桁で、`切り捨て·切り上げ·四捨五入`をおこなうことによって生じる誤差のこと

![](./images/01/lesson0119.png)


![](./images/01/lesson0120.png)



#### PaizaAIに質問　「循環小数0.11でありながら、なぜ指数部は123になるのでしょうか？エクセス数が含まれているためですか？」


おっしゃる通り、指数部が123になるのはエクセス表現（バイアス表現）が関係しています。IEEE 754の単精度浮動小数点形式では、以下のようになります：

1. 実際の0.1（10進数）は2進数では循環小数 0.0001100110011...となります

2. 浮動小数点表現では、これを「1.xxx × 2^n」の形式に正規化します
   - 0.0001100110011... = 1.100110011... × 2^(-4)

3. 指数部のエクセス表現について：
   - 単精度浮動小数点では、指数部は8ビットで表現
   - エクセス127形式を使用（実際の指数に127を加える）
   - 実際の指数は -4
   - エクセス表現では: -4 + 127 = 123

つまり、0.1の2進表現を浮動小数点形式で格納する際、実際の指数は-4ですが、エクセス表現により指数部は123として格納されます。これは負の指数も扱えるようにするための工夫です。


#### 32ビット浮動小数の場合、有効数字は10進数で約6.92桁となる理由
32ビット浮動小数の場合、有効数字は10進数で約6.92桁となる理由は2進数の1ビットで表現できる10進数は数学的な言い方をすると 10 を底とする(常用対数) 2 の対数となります。

もう少し簡単にいうと 10 を何乗したら 2 になるかで求められ、10 の 0.301 乗でおおよそ 2 となって2進数の1桁は10進数でおおよそ 0.301 桁を表現可能ということになります。32ビット浮動小数のうち仮数部は 23ビットなので 23 × 0.301 となりおおよそ10進数で 6.92 桁の有効桁数となります。

![](./images/01/lesson0120.png)


### 桁落ち

![](./images/01/lesson0121.png)


### 情報落ち

![](./images/01/lesson0122.png)


![](./images/01/lesson0123.png)


### 打切り誤差

![](./images/01/lesson0124.png)



<br><br>


## 09: シフト演算

![](./images/01/lesson0125.png)


![](./images/01/lesson0126.png)


### 論理シフト
1. シフトした結果、はみ出した値は切り捨てる。
2. シフトした結果、空いたビット位置には0を挿入する。



![](./images/01/lesson0127.png)


![](./images/01/lesson0128.png)


![](./images/01/lesson0129.png)



![](./images/01/lesson0130.png)


### 算術シフト

1. 符号ビットはシフトしない
2. シフトした結果、はみ出したビットは切り捨てる
3. シフトした結果、空いたビット位置には次のビットを挿入する
   - 左シフトの結果:0
   - 右シフトの結果:符号ビットと同じもの


- シフト結果は68

![](./images/01/lesson0131.png)


![](./images/01/lesson0132.png)


![](./images/01/lesson0133.png)


![](./images/01/lesson0134.png)


- 左にnビットシフトすると、もとの数の2のn乗倍になる
- ·右にnビットシフトすると、もとの数の2の-n乗倍になる
- 負数の論理シフトやオーバーフローによるシフトした場合この限りではない

### PaizaAIとの問答


- Q:
```
この講座にとどまらず、プログラミングにおいて、結局のところシフト演算というものはどういうメリットがあるのでしょうか？
私は長年IT業界（BtoC向けWEBサービス）に務めていましたが、シフト演算させるというソースコードも設計書も目にしたことがありませんでした。
なんとなくですが、機械制御や組み込みプログラミングであれば不可欠な計算方法ということだけは理解しています。
```

- A:
```
# シフト演算のプログラミングにおけるメリット

BtoCのWEBサービス開発では確かにシフト演算を直接見かける機会は少ないかもしれませんね。長年の経験からの疑問、とても理解できます。

## シフト演算のメリット

1. **処理速度の向上**
   - 掛け算・割り算の高速化: 2のべき乗の乗除算が単純なビットシフトで実現できます
   - 例: `x * 8` は `x << 3` で高速に計算可能
   - 現代のコンパイラは最適化でこれを自動的に行いますが、低レベル処理では重要です

2. **メモリ効率の向上**
   - ビットフラグ操作: 1つの整数で複数の真偽値を格納できます
   - 例: 権限管理、状態管理など（READ=1, WRITE=2, EXECUTE=4など）

3. **実用的な応用例**
   - カラー処理: RGBなどの色情報の操作
   - ネットワークプログラミング: IPアドレス処理
   - 暗号化アルゴリズム: 多くの暗号化処理でビット演算が使われます
   - ハッシュ関数の実装

## WEBサービスとの関連性

確かにWEBサービス開発の多くの場面では直接見かけませんが、以下のような場所で使われています:

- データベースエンジンの内部実装
- 画像処理ライブラリ（WebGLなど）
- JavaScript/TypeScriptでのビット演算（パフォーマンス重視の処理）
- WebAssemblyのような低レベル処理

## 組み込み系との違い

組み込み系では、おっしゃる通り不可欠です:
- メモリ・CPU制約が厳しい
- ハードウェアレジスタの直接操作
- リアルタイム性能要求

## 学習する価値

シフト演算を理解することは:
1. コンピュータの動作原理の理解につながります
2. 最適化の考え方を学べます
3. 低レベルプログラミングへの入口になります

WEB開発でも、パフォーマンスが重視される場面や、特殊なアルゴリズムを実装する際には、このような知識が役立つことがあります。


```


<br><br>


<br>

---

<br>








【EOF】



[←　README](../README.md)



